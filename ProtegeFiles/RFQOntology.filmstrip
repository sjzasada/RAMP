<?xml version="1.0" encoding="UTF-8" standalone="no"?><FilmStrip><svg height="640.0150" name="snapshot" onload="LoadHandler(evt)" onzoom="zoomHandler(evt)" width="1170.0" xmlns="http://www.w3.org/2000/svg"><AttributeMap name="Node Type" value="node color"/><defs><marker id="arrowHead-16776961" markerHeight="6" markerUnits="strokeWidth" markerWidth="8" orient="auto" refX="10" refY="5" viewBox="0 0 10 10"><path d="M 0 0 L 10 5 L 0 10 z" fill="rgb(0,0,255)"/></marker></defs><g id="displayBean" transform="matrix(1.00532212432143,0.0,0.0,1.00532212432143,-0.08818315253483888,47.54637678469385)"><image visibility="hidden"><![CDATA[ffd8ffe000104a46494600010200000100010000ffdb004300080606070605080707070909080a0c140d0c0b0b0c1912130f141d1a1f1e1d1a1c1c20242e2720222c231c1c2837292c30313434341f27393d38323c2e333432ffdb0043010909090c0b0c180d0d1832211c213232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232ffc00011080036006403012200021101031101ffc4001f0000010501010101010100000000000000000102030405060708090a0bffc400b5100002010303020403050504040000017d01020300041105122131410613516107227114328191a1082342b1c11552d1f02433627282090a161718191a25262728292a3435363738393a434445464748494a535455565758595a636465666768696a737475767778797a838485868788898a92939495969798999aa2a3a4a5a6a7a8a9aab2b3b4b5b6b7b8b9bac2c3c4c5c6c7c8c9cad2d3d4d5d6d7d8d9dae1e2e3e4e5e6e7e8e9eaf1f2f3f4f5f6f7f8f9faffc4001f0100030101010101010101010000000000000102030405060708090a0bffc400b51100020102040403040705040400010277000102031104052131061241510761711322328108144291a1b1c109233352f0156272d10a162434e125f11718191a262728292a35363738393a434445464748494a535455565758595a636465666768696a737475767778797a82838485868788898a92939495969798999aa2a3a4a5a6a7a8a9aab2b3b4b5b6b7b8b9bac2c3c4c5c6c7c8c9cad2d3d4d5d6d7d8d9dae2e3e4e5e6e7e8e9eaf2f3f4f5f6f7f8f9faffda000c03010002110311003f00f7fa476088cec70aa324d4573702da30ec8ee338c2e33fa9a6c72adedbc8363a2b02a738cff5a57e9d47616daed2e836d4752bd4301fd2a7aaf6f68b6c58a48e4b633bb1dbff00d7536e233b971f4e734a1cd6f7b7076be83aaa43a824f3f94b1c80f3f311c5245a824f27971472163dd86063d69f0d9470c8240ce48ec718a4db7671d834ea59a28a2ac414557bd764b47646dadc60fe22a3d3a492485cc921721f009fa0ff001a9e75cdca3b6972e514546d344b2ac45c076e8beb54224a28a280229e01711ec248e73914905ba411ed1f364e72454d452e557e6ea3bbb58af74c21b7322a296523191ea71fd6a3b4964b8889648c10d8240f61fe3569d16442ae32a7b52471244a551428272697bdcd7be81a58af6f62b049bfcc2d85db8c63d3fc2ad6df4247e34b4538c54559036dee342919f9d8fd40a8ee0486da50a46ed87181ed53555b8ba08de50473920315ec29b7dc48afa7c0d1bbb98c8c8182c3eb57c317c8575c83cf1d29f48403d4528ae5561b777719e62194c7e72f983aa0233f955592ca46bcf3832eddeadcf5e31fe14d8ace64be129d9b37b1ebce0e71fceb42a2ded17bcb663bf2ec145145684851451400514514005155ef2e5ade3528a1989c609c0a582579e0470a149eb9e7f2a4a49be5ea3b3b5c6497e91dc791e5c8cd9032318c9fc7de9e6d8484bbb10c7a853c7f2a8dac55ae3ce32367706c7d31fe1567e70460823dfad249bba903b2d875154aeef5e0915563078c9dc7f97eb5701c807d68524db4ba059ee2d14515420a28a2800a28a2800a28a280239618e60048b90391ce29d1c6b120441851d051452b2bdc07514514c08a5b68a66dd2264e31d4d4bd0628a295900514514c028a28a00fffd9]]></image><g id="nodes_and_labels"><rect fill="rgb(245,224,171)" height="500.0" id="Resource" onmousemove="mousemoveHandler(evt)" panelMode="Closed" rx="25.0" ry="25.0" stroke="rgb(64,64,64)" stroke-width="2" transform="matrix(0.11,0.0,0.0,0.11,817.6106666302426,81.47138387631804)" visibility="visible" width="500.0"><transform height="0.11" scaleX="817.6106666302426" scaleY="81.47138387631804" width="0.0" x="0.11" y="0.0"/><focus>false</focus><title>Resource (Class)</title></rect><text fill="black" font-family="Dialog" font-size="12" onmousemove="mousemoveHandler(evt)" text-anchor="middle" transform="matrix(0.11,0.0,0.0,0.11,817.6106666302426,81.47138387631804)" x="35.0" y="28.064453125">Resource<title>Resource (Class)</title></text><rect fill="rgb(245,224,171)" height="500.0" id="Reschedule" onmousemove="mousemoveHandler(evt)" panelMode="Closed" rx="25.0" ry="25.0" stroke="rgb(64,64,64)" stroke-width="2" transform="matrix(0.11,0.0,0.0,0.11,65.80753735964203,122.44413543251358)" visibility="visible" width="500.0"><transform height="0.11" scaleX="65.80753735964203" scaleY="122.44413543251358" width="0.0" x="0.11" y="0.0"/><focus>false</focus><title>Reschedule (Class)</title></rect><text fill="black" font-family="Dialog" font-size="12" onmousemove="mousemoveHandler(evt)" text-anchor="middle" transform="matrix(0.11,0.0,0.0,0.11,65.80753735964203,122.44413543251358)" x="41.5" y="28.064453125">Reschedule<title>Reschedule (Class)</title></text><rect fill="rgb(245,224,171)" height="500.0" id="Request" onmousemove="mousemoveHandler(evt)" panelMode="Closed" rx="25.0" ry="25.0" stroke="rgb(64,64,64)" stroke-width="2" transform="matrix(0.11,0.0,0.0,0.11,472.7859401101792,23.894227445026786)" visibility="visible" width="500.0"><transform height="0.11" scaleX="472.7859401101792" scaleY="23.894227445026786" width="0.0" x="0.11" y="0.0"/><focus>false</focus><title>Request (Class)</title></rect><text fill="black" font-family="Dialog" font-size="12" onmousemove="mousemoveHandler(evt)" text-anchor="middle" transform="matrix(0.11,0.0,0.0,0.11,472.7859401101792,23.894227445026786)" x="31.5" y="28.064453125">Request<title>Request (Class)</title></text><rect fill="rgb(245,224,171)" height="500.0" id="RFQ" onmousemove="mousemoveHandler(evt)" panelMode="Closed" rx="25.0" ry="25.0" stroke="rgb(64,64,64)" stroke-width="2" transform="matrix(0.11,0.0,0.0,0.11,944.8741142564221,240.3067674928318)" visibility="visible" width="500.0"><transform height="0.11" scaleX="944.8741142564221" scaleY="240.3067674928318" width="0.0" x="0.11" y="0.0"/><focus>false</focus><title>RFQ (Class)</title></rect><text fill="black" font-family="Dialog" font-size="12" onmousemove="mousemoveHandler(evt)" text-anchor="middle" transform="matrix(0.11,0.0,0.0,0.11,944.8741142564221,240.3067674928318)" x="20.5" y="28.064453125">RFQ<title>RFQ (Class)</title></text><rect fill="rgb(245,224,171)" height="500.0" id="Predicate" onmousemove="mousemoveHandler(evt)" panelMode="Closed" rx="25.0" ry="25.0" stroke="rgb(64,64,64)" stroke-width="2" transform="matrix(0.11,0.0,0.0,0.11,581.8418316798492,405.65547331535197)" visibility="visible" width="500.0"><transform height="0.11" scaleX="581.8418316798492" scaleY="405.65547331535197" width="0.0" x="0.11" y="0.0"/><focus>false</focus><title>Predicate (Class)</title></rect><text fill="black" font-family="Dialog" font-size="12" onmousemove="mousemoveHandler(evt)" text-anchor="middle" transform="matrix(0.11,0.0,0.0,0.11,581.8418316798492,405.65547331535197)" x="34.0" y="28.064453125">Predicate<title>Predicate (Class)</title></text><rect fill="rgb(245,224,171)" height="500.0" id="Offer" onmousemove="mousemoveHandler(evt)" panelMode="Closed" rx="25.0" ry="25.0" stroke="rgb(64,64,64)" stroke-width="2" transform="matrix(0.11,0.0,0.0,0.11,175.76298608546026,27.58983673561903)" visibility="visible" width="500.0"><transform height="0.11" scaleX="175.76298608546026" scaleY="27.58983673561903" width="0.0" x="0.11" y="0.0"/><focus>false</focus><title>Offer (Class)</title></rect><text fill="black" font-family="Dialog" font-size="12" onmousemove="mousemoveHandler(evt)" text-anchor="middle" transform="matrix(0.11,0.0,0.0,0.11,175.76298608546026,27.58983673561903)" x="21.0" y="28.064453125">Offer<title>Offer (Class)</title></text><rect fill="rgb(245,224,171)" height="500.0" id="Cost" onmousemove="mousemoveHandler(evt)" panelMode="Closed" rx="25.0" ry="25.0" stroke="rgb(64,64,64)" stroke-width="2" transform="matrix(0.11,0.0,0.0,0.11,784.023337632653,480.8484828569295)" visibility="visible" width="500.0"><transform height="0.11" scaleX="784.023337632653" scaleY="480.8484828569295" width="0.0" x="0.11" y="0.0"/><focus>false</focus><title>Cost (Class)</title></rect><text fill="black" font-family="Dialog" font-size="12" onmousemove="mousemoveHandler(evt)" text-anchor="middle" transform="matrix(0.11,0.0,0.0,0.11,784.023337632653,480.8484828569295)" x="21.0" y="28.064453125">Cost<title>Cost (Class)</title></text><rect fill="rgb(245,224,171)" height="500.0" id="Cores" onmousemove="mousemoveHandler(evt)" panelMode="Closed" rx="25.0" ry="25.0" stroke="rgb(64,64,64)" stroke-width="2" transform="matrix(0.11,0.0,0.0,0.11,429.3749944480869,482.1057725549732)" visibility="visible" width="500.0"><transform height="0.11" scaleX="429.3749944480869" scaleY="482.1057725549732" width="0.0" x="0.11" y="0.0"/><focus>false</focus><title>Cores (Class)</title></rect><text fill="black" font-family="Dialog" font-size="12" onmousemove="mousemoveHandler(evt)" text-anchor="middle" transform="matrix(0.11,0.0,0.0,0.11,429.3749944480869,482.1057725549732)" x="25.0" y="28.064453125">Cores<title>Cores (Class)</title></text><rect fill="rgb(245,224,171)" height="500.0" id="Concept" onmousemove="mousemoveHandler(evt)" panelMode="Closed" rx="25.0" ry="25.0" stroke="rgb(64,64,64)" stroke-width="2" transform="matrix(0.11,0.0,0.0,0.11,732.9342261902038,160.8728989492503)" visibility="visible" width="500.0"><transform height="0.11" scaleX="732.9342261902038" scaleY="160.8728989492503" width="0.0" x="0.11" y="0.0"/><focus>false</focus><title>Concept (Class)</title></rect><text fill="black" font-family="Dialog" font-size="12" onmousemove="mousemoveHandler(evt)" text-anchor="middle" transform="matrix(0.11,0.0,0.0,0.11,732.9342261902038,160.8728989492503)" x="31.0" y="28.064453125">Concept<title>Concept (Class)</title></text><rect fill="rgb(245,224,171)" height="500.0" id="Cancel" onmousemove="mousemoveHandler(evt)" panelMode="Closed" rx="25.0" ry="25.0" stroke="rgb(64,64,64)" stroke-width="2" transform="matrix(0.11,0.0,0.0,0.11,257.94359746192157,194.92524598172565)" visibility="visible" width="500.0"><transform height="0.11" scaleX="257.94359746192157" scaleY="194.92524598172565" width="0.0" x="0.11" y="0.0"/><focus>false</focus><title>Cancel (Class)</title></rect><text fill="black" font-family="Dialog" font-size="12" onmousemove="mousemoveHandler(evt)" text-anchor="middle" transform="matrix(0.11,0.0,0.0,0.11,257.94359746192157,194.92524598172565)" x="27.5" y="28.064453125">Cancel<title>Cancel (Class)</title></text><rect fill="rgb(245,224,171)" height="500.0" id="AgentAction" onmousemove="mousemoveHandler(evt)" panelMode="Closed" rx="25.0" ry="25.0" stroke="rgb(64,64,64)" stroke-width="2" transform="matrix(0.11,0.0,0.0,0.11,375.74363846672566,125.31467736915869)" visibility="visible" width="500.0"><transform height="0.11" scaleX="375.74363846672566" scaleY="125.31467736915869" width="0.0" x="0.11" y="0.0"/><focus>false</focus><title>AgentAction (Class)</title></rect><text fill="black" font-family="Dialog" font-size="12" onmousemove="mousemoveHandler(evt)" text-anchor="middle" transform="matrix(0.11,0.0,0.0,0.11,375.74363846672566,125.31467736915869)" x="40.0" y="28.064453125">AgentAction<title>AgentAction (Class)</title></text><rect fill="rgb(245,224,171)" height="500.0" id="AID" onmousemove="mousemoveHandler(evt)" panelMode="Closed" rx="25.0" ry="25.0" stroke="rgb(64,64,64)" stroke-width="2" transform="matrix(0.11,0.0,0.0,0.11,1049.192462640358,139.67287032803355)" visibility="visible" width="500.0"><transform height="0.11" scaleX="1049.192462640358" scaleY="139.67287032803355" width="0.0" x="0.11" y="0.0"/><focus>false</focus><title>AID (Class)</title></rect><text fill="black" font-family="Dialog" font-size="12" onmousemove="mousemoveHandler(evt)" text-anchor="middle" transform="matrix(0.11,0.0,0.0,0.11,1049.192462640358,139.67287032803355)" x="17.5" y="28.064453125">AID<title>AID (Class)</title></text><rect fill="rgb(249,238,211)" height="500.0" id=":THING" onmousemove="mousemoveHandler(evt)" panelMode="Closed" rx="25.0" ry="25.0" stroke="rgb(64,64,64)" stroke-width="2" transform="matrix(0.11,0.0,0.0,0.11,681.2463870093252,306.7404315909524)" visibility="visible" width="500.0"><transform height="0.11" scaleX="681.2463870093252" scaleY="306.7404315909524" width="0.0" x="0.11" y="0.0"/><focus>false</focus><title>:THING (System Class)</title></rect><text fill="black" font-family="Dialog" font-size="12" onmousemove="mousemoveHandler(evt)" text-anchor="middle" transform="matrix(0.11,0.0,0.0,0.11,681.2463870093252,306.7404315909524)" x="28.0" y="28.064453125">:THING<title>:THING (System Class)</title></text></g><g id="arcs"><line marker-end="url(#arrowHead-16776961)" onmousemove="mousemoveHandler(evt)" stroke="rgb(0,0,255)" stroke-width="1" visibility="visible" x1="787.9342261902038" x2="944.8741142564221" y1="198.6797430496208" y2="257.49992339246126"><title>has subclass: "Concept"  to  "RFQ"</title></line><line marker-end="url(#arrowHead-16776961)" onmousemove="mousemoveHandler(evt)" stroke="rgb(0,0,255)" stroke-width="1" visibility="visible" x1="681.2787353114278" x2="636.8094833777469" y1="361.5728199786217" y2="405.82308492768243"><title>has subclass: ":THING"  to  "Predicate"</title></line><line marker-end="url(#arrowHead-16776961)" onmousemove="mousemoveHandler(evt)" stroke="rgb(0,0,255)" stroke-width="1" visibility="visible" x1="718.4909514900696" x2="750.6896617094594" y1="306.7404315909524" y2="215.8728989492503"><title>has subclass: ":THING"  to  "Concept"</title></line><line marker-end="url(#arrowHead-16776961)" onmousemove="mousemoveHandler(evt)" stroke="rgb(0,0,255)" stroke-width="1" visibility="visible" x1="787.9342261902038" x2="1049.192462640358" y1="186.52946621014644" y2="169.01630306713741"><title>has subclass: "Concept"  to  "AID"</title></line><line marker-end="url(#arrowHead-16776961)" onmousemove="mousemoveHandler(evt)" stroke="rgb(0,0,255)" stroke-width="1" visibility="visible" x1="636.8418316798492" x2="784.023337632653" y1="443.3829555603209" y2="498.1210006119605"><title>has subclass: "Predicate"  to  "Cost"</title></line><line marker-end="url(#arrowHead-16776961)" onmousemove="mousemoveHandler(evt)" stroke="rgb(0,0,255)" stroke-width="1" visibility="visible" x1="581.8418316798492" x2="484.3749944480869" y1="446.9445914426847" y2="495.81665442764046"><title>has subclass: "Predicate"  to  "Cores"</title></line><line marker-end="url(#arrowHead-16776961)" onmousemove="mousemoveHandler(evt)" stroke="rgb(0,0,255)" stroke-width="1" visibility="visible" x1="375.74363846672566" x2="312.94359746192157" y1="169.06501667733875" y2="206.1749066735456"><title>has subclass: "AgentAction"  to  "Cancel"</title></line><line marker-end="url(#arrowHead-16776961)" onmousemove="mousemoveHandler(evt)" stroke="rgb(0,0,255)" stroke-width="1" visibility="visible" x1="375.74363846672566" x2="120.80753735964203" y1="152.55998002033172" y2="150.19883278134054"><title>has subclass: "AgentAction"  to  "Reschedule"</title></line><line marker-end="url(#arrowHead-16776961)" onmousemove="mousemoveHandler(evt)" stroke="rgb(0,0,255)" stroke-width="1" visibility="visible" x1="429.5565102513734" x2="473.97306832553136" y1="125.31467736915869" y2="78.89422744502679"><title>has subclass: "AgentAction"  to  "Request"</title></line><line marker-end="url(#arrowHead-16776961)" onmousemove="mousemoveHandler(evt)" stroke="rgb(0,0,255)" stroke-width="1" visibility="visible" x1="375.74363846672566" x2="230.76298608546026" y1="139.3762117705031" y2="68.52830233427464"><title>has subclass: "AgentAction"  to  "Offer"</title></line><line marker-end="url(#arrowHead-16776961)" onmousemove="mousemoveHandler(evt)" stroke="rgb(0,0,255)" stroke-width="1" visibility="visible" x1="787.9342261902038" x2="817.6106666302426" y1="162.58601356344042" y2="134.75826926212795"><title>has subclass: "Concept"  to  "Resource"</title></line><line marker-end="url(#arrowHead-16776961)" onmousemove="mousemoveHandler(evt)" stroke="rgb(0,0,255)" stroke-width="1" visibility="visible" x1="732.9342261902038" x2="430.74363846672566" y1="185.6352817581458" y2="155.5522945602632"><title>has subclass: "Concept"  to  "AgentAction"</title></line></g></g><g name="non_display" visibility="hidden" xmlns=""><g name="info" visibility="hidden"><text name="userName">stef</text><text name="prjName">RFQOntology</text><text name="timeStamp">Thu, 09 Jun 2011 14:33:24 +0100</text><text name="userComment">[no comment entered]</text><text id="currentScale">1.00532212432143</text></g><text name="cprels"/><text name="focusedNodeID">-1</text><text height="636.6118724702151" name="screenCoord" width="1163.8060793596119" x="0.0877163153992662" y="-47.29466867824737"/><g id="displayFilters" name="displayFilters"><text id="filter_0" name="filter_0">nominal attribute|artifact filter|Node Type|java.lang.String|Instance</text><text id="filter_1" name="filter_1">nominal attribute|relationship filter|Arc Type|java.lang.String|CANCELINSTANCE|CANCELINSTANCE (Connects Classes)|CORES|CORES (Connects Classes)|COST|COST (Connects Classes)|has instance|OFFERINSTANCE|OFFERINSTANCE (Connects Classes)|resolvers|resolvers (Connects Classes)|RESOURCE|RESOURCE (Connects Classes)|RFQINSTANCE|RFQINSTANCE (Connects Classes)|RSCHEDINSTANCE|RSCHEDINSTANCE (Connects Classes)</text></g><g id="dataFilters" name="dataFilters"><text id="filter_0" name="filter_0">nominal attribute|artifact type string filter|Node Type|java.lang.String|Instance</text><text id="filter_1" name="filter_1">nominal attribute|relationship type string filter|Arc Type|java.lang.String|CANCELINSTANCE|CANCELINSTANCE (Connects Classes)|CORES|CORES (Connects Classes)|COST|COST (Connects Classes)|OFFERINSTANCE|OFFERINSTANCE (Connects Classes)|resolvers|resolvers (Connects Classes)|RESOURCE|RESOURCE (Connects Classes)|RFQINSTANCE|RFQINSTANCE (Connects Classes)|RSCHEDINSTANCE|RSCHEDINSTANCE (Connects Classes)</text></g></g><script><![CDATA[var svgSVGElement;var ZOOM_FACTOR_IN = 1.10;var ZOOM_FACTOR_OUT = 1.0/ZOOM_FACTOR_IN;var ZOOM_DIRECTION_IN = "in"var ZOOM_DIRECTION_OUT = "out"var ZOOM_KEY_IN = "Z"var ZOOM_KEY_OUT = "X"var ZOOM_TIMEOUT = 50; // millisecondsvar zoomFactor;var zoomDirection;var zooming = false;var mouseLocX = 0.0;var mouseLocY = 0.0;var ABSOLUTE_ARC_WIDTH = 2.0;var newScale = 1.0;var newTransX = 0.0;var newTransY = 0.0;function dumpProps(obj, parent) {   for (var i in obj) {      if (parent) { msg = parent + "." + i + "\n" + obj[i]; } else { var msg = i + "\n" + obj[i]; }      if (!confirm(msg)) { return; }      if (typeof obj[i] == "object") {          if (parent) { dumpProps(obj[i], parent + "." + i); } else { dumpProps(obj[i], i); }      }   }}function LoadHandler (evt) { 	if ( window.svgDocument == null ) {		svgDocument = evt.target.ownerDocument;	}	svgSVGElement = svgDocument.getDocumentElement();	new Title (svgDocument, 12); 	var currentScale = svgDocument.getElementById("currentScale");	var cscale = currentScale.getFirstChild().getNodeValue();	//alert("displaybean scale "+cscale);	var svgscale = svgSVGElement.getCurrentScale();	//alert("svg startup scale "+svgscale);	adjustArcWidths(cscale);// 	setTimeout('adjustArcWidths(cscale)', 10);	 }  function zoomHandler(evt) { 	Title_Zoom(evt);		var cscale = svgSVGElement.getCurrentScale();	//alert("zooming...true svg scale: "+ cscale);	adjustArcWidths(cscale);// 	setTimeout("adjustArcWidths(csale)", 100);	//setTimeout('adjustCommentBox()', 100); }  // update the thickness of the arcs so that they always appear the  // same thickness no matter what the current scale is  function adjustArcWidths (cs) {	//alert("pass in scale " + cs); 	// look for line elements	var lineElements = svgDocument.getElementsByTagName ("line");//	var cs = svgSVGElement.getCurrentScale();	if((cs<=1)){	   return;	}	if(cs>=2){	   cs = cs*2;		}	var newStrokeWidth = ABSOLUTE_ARC_WIDTH/cs;	for (var i = 0; i<lineElements.getLength(); i++) {		var lineElement = lineElements.item(i);		var strokeWidth = lineElement.getAttribute ("stroke-width");		// do not let stroke too thick 		if(newStrokeWidth>=0.4){		  newStrokeWidth = 0.1;		}		if(newStrokeWidth<=0.1){		  newStrokeWidth = 0.2;		}			   lineElement.setAttribute ("stroke-width", "" + newStrokeWidth);	}//   	alert("draw stroke width: " + newStrokeWidth); }   function adjustCommentBox () {	var commentTransElement = svgDocument.getElementById ("commentTranslate");	var commentScaleElement = svgDocument.getElementById ("commentScale");  	var currSVGScale = svgSVGElement.currentScale;	var newCommentScale = 1.0/currSVGScale;	var currSVGTransX = svgSVGElement.currentTranslate.x	var currSVGTransY = svgSVGElement.currentTranslate.y	var newCommentTransX =  - currSVGTransX;	var newCommentTransY =  - currSVGTransY;	commentScaleElement.setAttribute("transform", "scale(" + newCommentScale + ")");	commentTransElement.setAttribute("transform", "translate(" + newCommentTransX + "," + newCommentTransY + ")"); }  function keyupHandler (keyEvent) {	// Get the character-code of the key that was pressed.	var key = keyEvent.keyCode;	// Get string equivalent of input character-code.	var input_text = String.fromCharCode(key);	//window.status = input_text + "up";	if (zooming && zoomDirection == ZOOM_DIRECTION_IN && input_text == ZOOM_KEY_IN) {  		// zoom in  		zooming = false;	} else if (zooming && zoomDirection == ZOOM_DIRECTION_OUT && input_text == ZOOM_KEY_OUT) {		// zoom out  		zooming = false;	} else {		// do nothing	}}function keydownHandler (keyEvent) {	// Get the character-code of the key that was pressed.	var key = keyEvent.keyCode;	// Get string equivalent of input character-code.	var input_text = String.fromCharCode(key);	//window.status = input_text + "down";	if (input_text == ZOOM_KEY_IN) {  		// start zooming in  		zoomDirection = ZOOM_DIRECTION_IN;  		zoomFactor = ZOOM_FACTOR_IN;  		zooming = true;	} else if (input_text == ZOOM_KEY_OUT) {		// start zooming out		zoomDirection = ZOOM_DIRECTION_OUT  		zoomFactor = ZOOM_FACTOR_OUT;  		zooming = true;	} else {		zooming = false;	}	// keep zooming until a keyup event is thrown	//if (zooming) {		//setTimeout('zoomOneStep()', ZOOM_TIMEOUT);	//}	zoomOneStep();}function mousemoveHandler (evt) {		mouseLocX = evt.getClientX();	mouseLocY = evt.getClientY();	var currScale = svgSVGElement.currentScale;	var currTransX = svgSVGElement.currentTranslate.x;	var currTransY = svgSVGElement.currentTranslate.y;	var absoluteX = (mouseLocX - currTransX) / currScale;	var absoluteY = (mouseLocY - currTransY) / currScale;	var scaleAndTransform = "scale: " +  svgSVGElement.currentScale + "  translate: " + svgSVGElement.currentTranslate.x + "," + svgSVGElement.currentTranslate.y;	var mouseLocationTransformed = "mouseLocation (transformed): " + mouseLocX + "," + mouseLocY;	var mouseLocationAbsolute = "mouseLocation (absolute): " + absoluteX + "," + absoluteY;	//window.status = scaleAndTransform + "  -  " + mouseLocationTransformed + "  -  " + mouseLocationAbsolute;	Title.Activate(evt);}function zoomOneStep () {  	var oldScale = svgSVGElement.currentScale;  	var oldTransX = svgSVGElement.currentTranslate.x  	var oldTransY = svgSVGElement.currentTranslate.y  	newScale = oldScale; 	newTransX = oldTransX; 	newTransY = oldTransY; 	var oldAbsoluteX = (mouseLocX - oldTransX) / oldScale;	var oldAbsoluteY = (mouseLocY - oldTransY) / oldScale;  	newScale = oldScale * zoomFactor;	// we want the absolute point under the mouse to stay in the same place	//ie. the absolute position of the mouse should be the same when done	newTransX = mouseLocX - newScale * oldAbsoluteX;	newTransY = mouseLocY - newScale * oldAbsoluteY;		// set the new scale and translation  	svgSVGElement.currentScale = newScale;	svgSVGElement.currentTranslate.x = newTransX;  	svgSVGElement.currentTranslate.y = newTransY;}// == Title.js -- Copyright (C) Stefan Goessner ========================function Title(doc, sz) {   this.element = null;  // element to show title of ..   Title.size = sz;      // text size ..   Title.oldScale = document.getDocumentElement().getCurrentScale();     // scaling modified by zooming ..   this.Create(doc);   AddTitleEvents(doc.getDocumentElement());   window.svgTitle = this;}Title.prototype.Create = function(doc){   this.rec = doc.createElement("rect");   this.rec.setAttribute("y", -0.9*Title.size);   this.rec.setAttribute("x", -0.25*Title.size);   this.rec.setAttribute("width", "1");   this.rec.setAttribute("height", 1.25*Title.size);   this.rec.setAttribute("style", "stroke:black;fill:#edefc2;stroke-width:1");   this.str = doc.createTextNode("");   this.txt = doc.createElement("text")   this.txt.setAttribute("style", "font-family:Arial; font-size:" + Title.size + ";fill:black;");   this.txt.appendChild(this.str);   this.grp = doc.createElement("g"),   this.grp.setAttribute("transform", "translate(0,0)");   this.grp.setAttribute("visibility", "hidden");   this.grp.appendChild(this.rec);   this.grp.appendChild(this.txt);   doc.getDocumentElement().appendChild(this.grp);}Title.Activate = function Title_Activate(evt) {	mouseLocX = evt.getClientX();	mouseLocY = evt.getClientY();		var currScale = svgSVGElement.currentScale;	var currTransX = svgSVGElement.currentTranslate.x;	var currTransY = svgSVGElement.currentTranslate.y;	var absoluteX = (mouseLocX - currTransX) / currScale;	var absoluteY = (mouseLocY - currTransY) / currScale;		var scaleAndTransform = "scale: " +  svgSVGElement.currentScale + "  translate: " + svgSVGElement.currentTranslate.x + "," + svgSVGElement.currentTranslate.y;	var mouseLocationTransformed = "mouseLocation (transformed): " + mouseLocX + "," + mouseLocY;	var mouseLocationAbsolute = "mouseLocation (absolute): " + absoluteX + "," + absoluteY;	var x = (evt.getClientX() - document.getDocumentElement().getCurrentTranslate().getX())/document.getDocumentElement().getCurrentScale() +  0.25*Title.size;	    var y = (evt.getClientY() - document.getDocumentElement().getCurrentTranslate().getY())/document.getDocumentElement().getCurrentScale() - Title.size;	window.svgTitle.element = evt.getCurrentTarget();	window.svgTitle.str.setNodeValue(TextOf(TitleElementOf(window.svgTitle.element)));	window.svgTitle.rec.setAttribute("width", window.svgTitle.txt.getComputedTextLength() + 0.5*Title.size);	window.svgTitle.grp.setAttribute("transform", "translate(" + x + "," + y + ")");	window.svgTitle.grp.setAttribute("visibility", "visible");}Title.Zoom = function Title_Zoom(evt) {   var newscl = evt.getTarget().getOwnerDocument().getDocumentElement().getCurrentScale();   Title.size *= Title.oldScale/newscl;   //alert ("Title.size: " + Title.size);   Title.oldScale = newscl;   window.svgTitle.rec.setAttribute("y", -0.9*Title.size);   window.svgTitle.rec.setAttribute("x", -0.25*Title.size);   window.svgTitle.rec.setAttribute("height", 1.25*Title.size);   window.svgTitle.rec.setAttribute("style", "stroke:black;fill:#edefc2;stroke-width:" + 1/document.getDocumentElement().getCurrentScale());   window.svgTitle.txt.setAttribute("style", "font-family:Arial; font-size:" + Title.size + ";fill:black;");}Title.Register = function Title_Register(elem) {   if (TitleElementOf(elem) != null)      elem.addEventListener("mousemove", Title.Activate, false);}// --- local helper functions ------------------------function TitleElementOf(elem) {   var childs = elem.getChildNodes();   for (var i=0; i<childs.getLength(); i++)      if (childs.item(i).getNodeType() == 1 && childs.item(i).getNodeName() == "title") // title element ..         return childs.item(i);      return null;}function TextOf(elem) {   var childs = elem ? elem.getChildNodes() : null;   for (var i=0; childs && i<childs.getLength(); i++)      if (childs.item(i).getNodeType() == 3) // text node ..         return childs.item(i).getNodeValue();      return "";}function AddTitleEvents(elem) {   var childs = elem.getChildNodes();   for (var i=0; i<childs.getLength(); i++)      if (childs.item(i).getNodeType() == 1) // element node ..         AddTitleEvents(childs.item(i));   if (TitleElementOf(elem) != null)      elem.addEventListener("mousemove", Title.Activate, false);}// === end ======================================================]]></script></svg></FilmStrip>